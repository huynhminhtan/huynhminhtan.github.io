<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.6">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2020-02-13T16:03:37+07:00</updated><id>/feed.xml</id><title type="html">mtSiniChi</title><subtitle>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</subtitle><entry><title type="html">Cấu hình HTTPS/SSL cho server bằng Nginx và Certbot</title><link href="/server/2020/02/13/cau-hinh-https-ssl-cho-server-bang-nginx-va-cerbot.html" rel="alternate" type="text/html" title="Cấu hình HTTPS/SSL cho server bằng Nginx và Certbot" /><published>2020-02-13T12:38:27+07:00</published><updated>2020-02-13T12:38:27+07:00</updated><id>/server/2020/02/13/cau-hinh-https-ssl-cho-server-bang-nginx-va-cerbot</id><content type="html" xml:base="/server/2020/02/13/cau-hinh-https-ssl-cho-server-bang-nginx-va-cerbot.html">&lt;p&gt;Bài toán được đưa ra, chúng ta sẽ cấu hình server Linux sử dụng HTTPS/SSL và trỏ tên miền &lt;em&gt;cbsys.ga&lt;/em&gt; vào port &lt;em&gt;3000&lt;/em&gt; đang chạy trên server.&lt;/p&gt;

&lt;h2 id=&quot;hướng-dẫn&quot;&gt;Hướng dẫn&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Cài Nginx:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get update
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;nginx
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;nginx &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;service nginx status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Cài Cerbot&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;add-apt-repository ppa:certbot/certbot
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get update
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;python-certbot-nginx

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;python3-pyasn1
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;certbot &lt;span class=&quot;nt&quot;&gt;--version&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Enable tường lửa để cài đặt rồi tắt liền: &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo ufw status&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo ufw enable&lt;/code&gt;, nếu không sẽ không truy cập được SSH&lt;/li&gt;
  &lt;li&gt;Cấu hình DNS Domain, trỏ domain &lt;em&gt;cbsys.ga&lt;/em&gt; sang host đang cài đặt Nginx với &lt;code class=&quot;highlighter-rouge&quot;&gt;Type:A, Name: cbsys.ga&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Cài SSL với Nginx &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo certbot --nginx -d cbsys.ga&lt;/code&gt;, xem cấu hình khi cài đặt thành công ở &lt;em&gt;/etc/nginx/sites-enabled/default&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;Sau đó tắt tường lửa, để truy cập lại được SSH nếu thoát ra &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo ufw disable&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Vào đường dẫn &lt;em&gt;/etc/nginx/sites-enabled&lt;/em&gt; tạo một file &lt;em&gt;cbsys.ga&lt;/em&gt; để cấu hình reverse proxy thực hiện mapping tới port &lt;em&gt;3000&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;server {

    	listen 443 ssl;
	    listen [::]:443 ssl;

        ssl_certificate /etc/letsencrypt/live/cbsys.ga/fullchain.pem; # managed by Certbot
    	ssl_certificate_key /etc/letsencrypt/live/cbsys.ga/privkey.pem; # managed by Certbot
    	include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    	ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot

        server_name cbsys.ga;

        location / {

            proxy_set_header        Host $host;
                proxy_set_header        X-Real-IP $remote_addr;
                proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header        X-Forwarded-Proto $scheme;

                # Fix the “It appears that your reverse proxy set up is broken&quot; error.
                proxy_pass          http://localhost:3000;
                proxy_read_timeout  90;

                proxy_redirect      http://localhost:3000 https://cbsys.ga;

        }

}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Sau đó restart lại Nginx để thấy thay đổi: &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo service nginx restart&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;tham-khảo&quot;&gt;Tham khảo&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;https://www.linode.com/docs/web-servers/nginx/use-nginx-reverse-proxy/#configure-https-with-certbot&lt;/li&gt;
  &lt;li&gt;https://www.digitalocean.com/community/tutorials/how-to-set-up-let-s-encrypt-with-nginx-server-blocks-on-ubuntu-16-04&lt;/li&gt;
  &lt;li&gt;https://www.godaddy.com/garage/how-to-install-an-ssl-certificate-on-ubuntu-for-nginx/&lt;/li&gt;
  &lt;li&gt;https://dzone.com/articles/how-to-install-lets-encrypt-with-nginx-on-ubuntu-1&lt;/li&gt;
&lt;/ul&gt;</content><author><name>mtSiniChi</name></author><summary type="html">Bài toán được đưa ra, chúng ta sẽ cấu hình server Linux sử dụng HTTPS/SSL và trỏ tên miền cbsys.ga vào port 3000 đang chạy trên server.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/assets/images/via-verde-crm-increases-customer-adoption-hero.png" /></entry><entry><title type="html">Cài Nodejs theo version</title><link href="/nodejs/2020/01/26/cai-nodejs-theo-version.html" rel="alternate" type="text/html" title="Cài Nodejs theo version" /><published>2020-01-26T12:38:27+07:00</published><updated>2020-01-26T12:38:27+07:00</updated><id>/nodejs/2020/01/26/cai-nodejs-theo-version</id><content type="html" xml:base="/nodejs/2020/01/26/cai-nodejs-theo-version.html">&lt;h2 id=&quot;hướng-dẫn&quot;&gt;Hướng dẫn&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Cài đặt NVM: &lt;code class=&quot;highlighter-rouge&quot;&gt;curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.34.0/install.sh | bash&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Cài Nodejs theo version mong muốn: &lt;code class=&quot;highlighter-rouge&quot;&gt;nvm install 8.9.0&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Kiểm tra: &lt;code class=&quot;highlighter-rouge&quot;&gt;node -v&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Trang xem version Nodejs: https://nodejs.org/dist/&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;tham-khảo&quot;&gt;Tham khảo&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;https://nodejs.org/dist/&lt;/li&gt;
  &lt;li&gt;https://stackoverflow.com/a/7718438&lt;/li&gt;
&lt;/ul&gt;</content><author><name>mtSiniChi</name></author><summary type="html">Hướng dẫn</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/assets/images/via-verde-crm-increases-customer-adoption-hero.png" /></entry><entry><title type="html">Cách trỏ domain vào port của server bằng Nginx</title><link href="/webserver/2019/12/01/cach-tro-domain-vao-port-cua-server-bang-nginx.html" rel="alternate" type="text/html" title="Cách trỏ domain vào port của server bằng Nginx" /><published>2019-12-01T12:38:27+07:00</published><updated>2019-12-01T12:38:27+07:00</updated><id>/webserver/2019/12/01/cach-tro-domain-vao-port-cua-server-bang-nginx</id><content type="html" xml:base="/webserver/2019/12/01/cach-tro-domain-vao-port-cua-server-bang-nginx.html">&lt;h2 id=&quot;tổng-quan&quot;&gt;Tổng quan&lt;/h2&gt;

&lt;p&gt;Nếu bạn đã từng vọc vạch mua một domain và shared hosting để chạy demo một trang web, khi đó bạn có thể dễ dàng trỏ một domain vào hosting hoặc thêm nhiều domain (addon domain) vào hosting hoặc thêm tên miền con (sub domain) vào hosting đó. Và đương nhiên mỗi domain, sub domain, addon domain mà bạn thêm vào cũng dễ dàng chỉ định cho khớp với thư mục lưu trữ source code thực thi tương ứng. Có được điều này là do shared hosting bạn sử dụng đã tích hợp hệ thống quản trị &lt;em&gt;Control Panel Server&lt;/em&gt; nổi tiếng với mấy cái tên quen thuộc Cpanel 11, Sentora, VistaCP.&lt;/p&gt;

&lt;p&gt;Mà shared hosting lại có sự giới hạn riêng của nó, một khi chạm tới ngưỡng bạn bắt buộc chuyển sang chạy trên server, có thể xem như &lt;em&gt;một bầu trời to lớn dành cho một cao nhận vĩ đại&lt;/em&gt;. Trên thực tế server sẽ chạy ở rất nhiều port mà mỗi port đại diện cho một service riêng, để giảm sự nhập nhằng nhớ số IP số port hoặc tạo sự dễ dàng một khi IP server thay đổi và cuối cùng phương án sử dụng domain là điều rất cần thiết. Tới lúc này, vấn đề thật sự được đặt ra là làm thế nào để trỏ domain, sub domain, addon domain vào các port tương ứng đang chạy trên server.&lt;/p&gt;

&lt;p&gt;Bài viết sau sẽ hướng dẫn các bạn trỏ domain vào port đang chạy trên server bằng việc sử dụng Ngnix và cách cấu hình DNS domain.&lt;/p&gt;

&lt;h2 id=&quot;các-bước-thực-hiện&quot;&gt;Các bước thực hiện&lt;/h2&gt;

&lt;p&gt;Lấy một ví dụ, chúng ta muốn thêm một domain &lt;em&gt;minhtan.me&lt;/em&gt; vào server Ubuntu 16.4 có IP là &lt;em&gt;45.252.121.7&lt;/em&gt;, và đây là kết quả chi tiết cho ví dụ trong bài viết này:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Nhập &lt;em&gt;minhtan.me&lt;/em&gt; trỏ đến &lt;em&gt;45.252.121.7:80&lt;/em&gt;. (service Welcome)&lt;/li&gt;
  &lt;li&gt;Nhập &lt;em&gt;dashboard.minhtan.me&lt;/em&gt; trỏ đến &lt;em&gt;45.252.121.7:3000&lt;/em&gt;. (service Grafana)&lt;/li&gt;
  &lt;li&gt;Nhập &lt;em&gt;dev.minhtan.me&lt;/em&gt; trỏ đến &lt;em&gt;45.252.121.7:9090&lt;/em&gt;. (service Java web)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Các bước thực hiện như sau:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Đầu tiên, cấu hình DNS cho domain với trường như bên dưới:&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Type&lt;/th&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Content&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;A&lt;/td&gt;
      &lt;td&gt;minhtan.me&lt;/td&gt;
      &lt;td&gt;45.252.121.7&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;A&lt;/td&gt;
      &lt;td&gt;dashboard&lt;/td&gt;
      &lt;td&gt;45.252.121.7&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;A&lt;/td&gt;
      &lt;td&gt;dev&lt;/td&gt;
      &lt;td&gt;45.252.121.7&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;Cài đặt Nginx.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get update
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;nginx
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;nginx &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Cấu hình Nginx, tạo một tập tin cấu hình &lt;em&gt;domain.config&lt;/em&gt; trong &lt;em&gt;/etc/nginx/sites-available/domain.config&lt;/em&gt; có nội dung như sau:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# /etc/nginx/sites-available/domain.config
server {
    listen 80;
    server_name minhtan.me;

    location / {
        proxy_pass http://localhost;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

server {
    listen 80;
    server_name dashboard.minhtan.me;

    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

server {
    listen 80;
    server_name dev.minhtan.me;

    location / {
        proxy_pass http://localhost:9090;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Thực hiện restart lại Nginx bằng câu lệnh:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /etc/nginx/sites-available/domain.config /etc/nginx/sites-enabled/domain.config &lt;span class=&quot;c&quot;&gt;# link to sites-enabled/&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;service nginx configtest &lt;span class=&quot;c&quot;&gt;# test config but dont kill current state&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;service nginx restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Thưởng thức thành quả, vào &lt;em&gt;dashboard.minhtan.me&lt;/em&gt; thấy ngay trang Grafana, vào &lt;em&gt;dev.minhtan.me&lt;/em&gt; thấy website java đang chạy, cuối cùng vào &lt;em&gt;minhtan.me&lt;/em&gt; thấy chữ &lt;strong&gt;Welcome to mtSiniChi&lt;/strong&gt; to đùng hiện ra.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Mách nhỏ, bạn có thể sử dụng combo là &lt;em&gt;Vultr, NameCheap/Freenom, Cloudflare, Nginx&lt;/em&gt;. Vậy là kể từ đây tha hồ cấu hình domain rồi. Happily!&lt;/p&gt;

&lt;h2 id=&quot;tham-khảo&quot;&gt;Tham khảo&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;https://askubuntu.com/a/69751&lt;/li&gt;
  &lt;li&gt;https://serverfault.com/a/187026&lt;/li&gt;
  &lt;li&gt;https://www.digitalocean.com/community/questions/how-do-i-point-my-custom-domain-to-my-ip-port-41-111-20-36-8080&lt;/li&gt;
  &lt;li&gt;http://nginx.org/en/docs/http/server_names.html&lt;/li&gt;
&lt;/ul&gt;</content><author><name>mtSiniChi</name></author><summary type="html">Tổng quan</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/assets/images/via-verde-crm-increases-customer-adoption-hero.png" /></entry><entry><title type="html">Làm việc với InfluxDB trên Docker</title><link href="/docker/2019/09/26/lam-viec-voi-influxdb-tren-docker.html" rel="alternate" type="text/html" title="Làm việc với InfluxDB trên Docker" /><published>2019-09-26T12:38:27+07:00</published><updated>2019-09-26T12:38:27+07:00</updated><id>/docker/2019/09/26/lam-viec-voi-influxdb-tren-docker</id><content type="html" xml:base="/docker/2019/09/26/lam-viec-voi-influxdb-tren-docker.html">&lt;h2 id=&quot;cài-đặt&quot;&gt;Cài đặt&lt;/h2&gt;

&lt;p&gt;Chạy container, nếu chưa có sẽ tự pull trên hub.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; 8086:8086 &lt;span class=&quot;nt&quot;&gt;--name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;influxdb-master influxdb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Truy cập vào terminal trong docker.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker &lt;span class=&quot;nb&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--user&lt;/span&gt; root &lt;span class=&quot;nt&quot;&gt;-it&lt;/span&gt; influxdb-master bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thao tác với InfluxDB.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;c&quot;&gt;# Verify&lt;/span&gt;
influxd

&lt;span class=&quot;c&quot;&gt;# Access CLI&lt;/span&gt;
influx

&lt;span class=&quot;c&quot;&gt;# Create database&lt;/span&gt;
create database mydb

&lt;span class=&quot;c&quot;&gt;# Show databases&lt;/span&gt;
show databases

&lt;span class=&quot;c&quot;&gt;# Using database&lt;/span&gt;
use mydb

&lt;span class=&quot;c&quot;&gt;# Show tables&lt;/span&gt;
show meaturements

&lt;span class=&quot;c&quot;&gt;# Insert CLI&lt;/span&gt;
insert cpu_load_short,host&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;server01,region&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;us-west &lt;span class=&quot;nv&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0.7

&lt;span class=&quot;c&quot;&gt;# Insert HTTP&lt;/span&gt;
curl &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-XPOST&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'http://localhost:8086/write?db=mydb1'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--data-binary&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'cpu_load_short,host=server01,region=us-west value=0.64 1434055562000000001'&lt;/span&gt;
curl &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-XPOST&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'http://localhost:8086/write?db=mydb1'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--data-binary&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'cpu_load_short,host=server01,region=us-west value=0.46 1434055562000000002'&lt;/span&gt;
curl &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-XPOST&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'http://localhost:8086/write?db=mydb1'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--data-binary&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'cpu_load_short,host=server01,region=us-west value=11i'&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Select&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; from cpu_load_short
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; from cpu_load_short where value &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 1
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; from cpu_load_short group by region

&lt;span class=&quot;c&quot;&gt;# Show user&lt;/span&gt;
show &lt;span class=&quot;nb&quot;&gt;users
&lt;/span&gt;curl &lt;span class=&quot;nt&quot;&gt;-G&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'http://localhost:8086/query?pretty=true'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--data-urlencode&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;q=SHOW USERS&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;time-series-admin&quot;&gt;Time Series Admin&lt;/h2&gt;

&lt;p&gt;Giao diện quản trị và thực hiện truy vấn cho InfluxDB databases, chạy thông qua docker:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; 8085:80 &lt;span class=&quot;nt&quot;&gt;-it&lt;/span&gt; timeseriesadmin/timeseriesadmin:0.1.4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mặc định, không có chứng thực truy cập: &lt;em&gt;http://localhost:8086&lt;/em&gt;, user: &lt;em&gt;admin&lt;/em&gt;, password: &lt;em&gt;123456&lt;/em&gt; (tuỳ chọn), database: &lt;em&gt;mydb1&lt;/em&gt;.&lt;/p&gt;

&lt;h2 id=&quot;tham-khảo&quot;&gt;Tham khảo&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;https://docs.influxdata.com/influxdb/v1.7/query_language/data_exploration/&lt;/li&gt;
  &lt;li&gt;https://hub.docker.com/_/influxdb&lt;/li&gt;
&lt;/ul&gt;</content><author><name>mtSiniChi</name></author><summary type="html">Cài đặt</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/assets/images/via-verde-crm-increases-customer-adoption-hero.png" /></entry><entry><title type="html">Errors for Linux Ubuntu</title><link href="/linux/2019/08/13/errors-for-linux.html" rel="alternate" type="text/html" title="Errors for Linux Ubuntu" /><published>2019-08-13T12:38:27+07:00</published><updated>2019-08-13T12:38:27+07:00</updated><id>/linux/2019/08/13/errors-for-linux</id><content type="html" xml:base="/linux/2019/08/13/errors-for-linux.html">&lt;h2 id=&quot;ubuntu-loop-loging&quot;&gt;Ubuntu Loop Loging&lt;/h2&gt;

&lt;p&gt;Ở màn hình đăng nhập, dù đã nhập đúng password nhưng không thể login vào “desktop”, nó lặp lại ở màn hình login.&lt;/p&gt;

&lt;p&gt;Giải quyết:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Vào terminal từ màn hình login: &lt;code class=&quot;highlighter-rouge&quot;&gt;ctrl + alt + f1&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Login vào hệ thống.&lt;/li&gt;
  &lt;li&gt;Thực hiện: &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo mv ~/.Xauthority ~/.Xauthority.bak&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Thực hiện: &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo service lightdm restart&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Các triệu chứng và điều trị:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;https://www.youtube.com/watch?v=OG4deLa_vK8&lt;/li&gt;
  &lt;li&gt;https://askubuntu.com/questions/223501/ubuntu-gets-stuck-in-a-login-loop&lt;/li&gt;
  &lt;li&gt;https://www.maketecheasier.com/fix-ubuntu-login-loop/&lt;/li&gt;
&lt;/ul&gt;</content><author><name>mtSiniChi</name></author><summary type="html">Ubuntu Loop Loging</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.outsystems.com/-/media/images/case-studies/via-verde-crm-increases-customer-adoption/via-verde-crm-increases-customer-adoption-hero.png" /></entry><entry><title type="html">Bookmarks</title><link href="/linux/2019/07/10/bookmarks.html" rel="alternate" type="text/html" title="Bookmarks" /><published>2019-07-10T13:38:27+07:00</published><updated>2019-07-10T13:38:27+07:00</updated><id>/linux/2019/07/10/bookmarks</id><content type="html" xml:base="/linux/2019/07/10/bookmarks.html">&lt;h2 id=&quot;-take-a-screenshot-of-your-code&quot;&gt;# Take A Screenshot of your Code&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;https://scotch.io/bar-talk/6-awesome-ways-to-take-a-screenshot-of-your-code&lt;/li&gt;
  &lt;li&gt;https://marketplace.visualstudio.com/items?itemName=pnp.polacode&lt;/li&gt;
&lt;/ul&gt;</content><author><name>mtSiniChi</name></author><summary type="html"># Take A Screenshot of your Code</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/assets/images/via-verde-crm-increases-customer-adoption-hero.png" /></entry><entry><title type="html">Sử dụng Post Processer trong Jmeter</title><link href="/linux/2019/07/10/post-processor-trong-jmeter.html" rel="alternate" type="text/html" title="Sử dụng Post Processer trong Jmeter" /><published>2019-07-10T13:38:27+07:00</published><updated>2019-07-10T13:38:27+07:00</updated><id>/linux/2019/07/10/post-processor-trong-jmeter</id><content type="html" xml:base="/linux/2019/07/10/post-processor-trong-jmeter.html">&lt;p&gt;Jmeter Post processor giúp lấy những dữ liệu sau khi thực thi xong một api trong testcript, lưu dữ liệu trả về vào biến, rồi có thể dùng biến đó cung cấp dữ liệu cho những lần thực thi api sau.&lt;/p&gt;

&lt;p&gt;Thêm bằng cách, &lt;strong&gt;click chuột phải vào api cần tạo Post processor -&amp;gt; Add -&amp;gt; Post processors -&amp;gt; JSON Extractor&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/json-extractor-jmeter.png&quot; alt=&quot;json-extractor-jmeter&quot; class=&quot;img-responsive&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ví dụ, có 1 api trả về json:&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;zptransid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;190820006451952&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;ordersid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ODOO&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;isOk&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Lấy ra giá trị của thuộc tính &lt;em&gt;zptransid&lt;/em&gt; với cú pháp &lt;code class=&quot;highlighter-rouge&quot;&gt;$.zptransid&lt;/code&gt; từ JSON trả về lưu vào biến &lt;code class=&quot;highlighter-rouge&quot;&gt;zptransID&lt;/code&gt; và sau đó sử dụng &lt;code class=&quot;highlighter-rouge&quot;&gt;${zptransID}&lt;/code&gt; để lấy ra giá trị vừa lưu.&lt;/p&gt;

&lt;p&gt;Trong đó:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Variable names: đặt tên cho biến để lưu trữ dữ liệu. Ví dụ: &lt;code class=&quot;highlighter-rouge&quot;&gt;zptransID&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;JSON Path expressions: cú pháp rúc trích giá trị từ JSON data trả về giống như cách lấy xPath. Ví dụ: &lt;code class=&quot;highlighter-rouge&quot;&gt;$.zptransid&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Match No. (0 for Random): khi cú pháp rúc trích có nhiều giá trị, thì chỉ ra thứ tự của giá trị cần lấy là bao nhiêu. Giá trị là 1 sẽ lấy đầu tiên.&lt;/li&gt;
  &lt;li&gt;Compute concatenation var (suffix_ALL): tiền tố biến (không quan tâm).&lt;/li&gt;
  &lt;li&gt;Default value: giá trị mặc định khi không kiếm được trong JSON data.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Tham khảo:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;https://www.redline13.com/blog/2018/09/jmeter-extract-and-re-use-as-variable/&lt;/li&gt;
  &lt;li&gt;https://goessner.net/articles/JsonPath/&lt;/li&gt;
  &lt;li&gt;https://stackoverflow.com/a/44755425/9488752&lt;/li&gt;
  &lt;li&gt;https://loadium.com/blog/jmeter-post-processors/&lt;/li&gt;
  &lt;li&gt;https://medium.com/@loadium/jmeter-post-processors-667139a69dd&lt;/li&gt;
&lt;/ul&gt;</content><author><name>mtSiniChi</name></author><summary type="html">Jmeter Post processor giúp lấy những dữ liệu sau khi thực thi xong một api trong testcript, lưu dữ liệu trả về vào biến, rồi có thể dùng biến đó cung cấp dữ liệu cho những lần thực thi api sau.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/assets/images/via-verde-crm-increases-customer-adoption-hero.png" /></entry><entry><title type="html">Sử dụng SCM plugin Maven push và clone souce code từ Git</title><link href="/linux/2019/07/10/su-dung-scm-plugin-maven-de-push-va-clone-code-code.html" rel="alternate" type="text/html" title="Sử dụng SCM plugin Maven push và clone souce code từ Git" /><published>2019-07-10T13:38:27+07:00</published><updated>2019-07-10T13:38:27+07:00</updated><id>/linux/2019/07/10/su-dung-scm-plugin-maven-de-push-va-clone-code-code</id><content type="html" xml:base="/linux/2019/07/10/su-dung-scm-plugin-maven-de-push-va-clone-code-code.html">&lt;p&gt;Tập tin &lt;em&gt;pom.xml&lt;/em&gt; của Maven.&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;project&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xmlns=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://maven.apache.org/POM/4.0.0&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xmlns:xsi=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;
         &lt;span class=&quot;na&quot;&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;modelVersion&amp;gt;&lt;/span&gt;4.0.0&lt;span class=&quot;nt&quot;&gt;&amp;lt;/modelVersion&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;gs-centralized-configuration&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.1.0&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;packaging&amp;gt;&lt;/span&gt;pom&lt;span class=&quot;nt&quot;&gt;&amp;lt;/packaging&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;scm&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;connection&amp;gt;&lt;/span&gt;scm:git:https://github.com/mtsinichi/spring-cloud-configs.git&lt;span class=&quot;nt&quot;&gt;&amp;lt;/connection&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;developerConnection&amp;gt;&lt;/span&gt;scm:git:https://github.com/mtsinichi/spring-cloud-configs.git&lt;span class=&quot;nt&quot;&gt;&amp;lt;/developerConnection&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;https://github.com/mtsinichi/spring-cloud-configs&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/scm&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;modules&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;module&amp;gt;&lt;/span&gt;order-management-service&lt;span class=&quot;nt&quot;&gt;&amp;lt;/module&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;module&amp;gt;&lt;/span&gt;configuration-service&lt;span class=&quot;nt&quot;&gt;&amp;lt;/module&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;module&amp;gt;&lt;/span&gt;user-management-service&lt;span class=&quot;nt&quot;&gt;&amp;lt;/module&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/modules&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;checkout.basedir&amp;gt;&lt;/span&gt;${basedir}/clone&lt;span class=&quot;nt&quot;&gt;&amp;lt;/checkout.basedir&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;

            &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- git repository --&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-scm-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.9.5&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;nt&quot;&gt;&amp;lt;checkoutDirectory&amp;gt;&lt;/span&gt;${basedir}/core&lt;span class=&quot;nt&quot;&gt;&amp;lt;/checkoutDirectory&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;nt&quot;&gt;&amp;lt;connectionType&amp;gt;&lt;/span&gt;url&lt;span class=&quot;nt&quot;&gt;&amp;lt;/connectionType&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;nt&quot;&gt;&amp;lt;basedir&amp;gt;&lt;/span&gt;${basedir}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/basedir&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;nt&quot;&gt;&amp;lt;workingDirectory&amp;gt;&lt;/span&gt;${basedir}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/workingDirectory&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;nt&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;git-pull-mvn&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;nt&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                            &lt;span class=&quot;nt&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;checkout&lt;span class=&quot;nt&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;c&quot;&gt;&amp;lt;!--&amp;lt;phase&amp;gt;validate&amp;lt;/phase&amp;gt;--&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;

                    &lt;span class=&quot;nt&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;git-push-mvn&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;nt&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                            &lt;span class=&quot;nt&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;checkin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;c&quot;&gt;&amp;lt;!--&amp;lt;phase&amp;gt;validate&amp;lt;/phase&amp;gt;--&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;/project&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>mtSiniChi</name></author><summary type="html">Tập tin pom.xml của Maven.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/assets/images/via-verde-crm-increases-customer-adoption-hero.png" /></entry><entry><title type="html">Sử dụng SCM plugin Maven push và clone souce code từ Git</title><link href="/linux/2019/07/10/su-dung-scm-plugin-maven-de-push-va-clone-code.html" rel="alternate" type="text/html" title="Sử dụng SCM plugin Maven push và clone souce code từ Git" /><published>2019-07-10T13:38:27+07:00</published><updated>2019-07-10T13:38:27+07:00</updated><id>/linux/2019/07/10/su-dung-scm-plugin-maven-de-push-va-clone-code</id><content type="html" xml:base="/linux/2019/07/10/su-dung-scm-plugin-maven-de-push-va-clone-code.html">&lt;p&gt;Bài viết sẽ trả lời câu hỏi: &lt;em&gt;Tôi muốn sử dụng lệnh maven để pull và push source code lên repository git&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Với tính tiện lợi, &lt;a href=&quot;https://maven.apache.org/scm/maven-scm-plugin/index.html&quot;&gt;Maven SCM Plugin&lt;/a&gt; hỗ trợ kết nối, tương tác với nhiều loại SCM (source code management), cũng như cung cấp một số lệnh có thể thao tác nhanh thay vì sử dụng các lệnh git thông thường. Maven SCM Plugin hỗ trợ nhiều lệnh và nhiều mục đích, có 2 loại goals thường hay sử dụng như:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;checkin: commit các thay đổi lên repository.&lt;/li&gt;
  &lt;li&gt;checkout: clone source code trên repository.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Chúng ta sẽ đi qua hiện thực từng goal. Chỉ thao tác với tập tin &lt;em&gt;pom.xml&lt;/em&gt; mà không cần sửa đổi tập tin nào khác.&lt;/p&gt;

&lt;h2 id=&quot;csm-info&quot;&gt;CSM Info&lt;/h2&gt;

&lt;p&gt;Khai báo địa chỉ repository để &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;connectionType&amp;gt;&lt;/code&gt; gọi sử dụng.&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;scm&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;connection&amp;gt;&lt;/span&gt;scm:git:https://github.com/mtsinichi/spring-cloud-configs.git&lt;span class=&quot;nt&quot;&gt;&amp;lt;/connection&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;developerConnection&amp;gt;&lt;/span&gt;scm:git:https://github.com/mtsinichi/spring-cloud-configs.git&lt;span class=&quot;nt&quot;&gt;&amp;lt;/developerConnection&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;https://github.com/mtsinichi/spring-cloud-configs&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/scm&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;scmcheckin&quot;&gt;SCM:checkin&lt;/h2&gt;

&lt;p&gt;Thực hiện tổng hợp các lệnh git add, git commit, git push lên repository. Thêm 1 plugin trong &lt;em&gt;pom.xml&lt;/em&gt; của project Maven. Trong tag &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/code&gt; có thuộc tính &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;connectionType&amp;gt;&lt;/code&gt; dùng để khai báo địa chỉ repository Git. Xem thêm các thuộc tính của goal &lt;em&gt;scm:checkin&lt;/em&gt; tại &lt;a href=&quot;https://maven.apache.org/scm/maven-scm-plugin/checkin-mojo.html&quot;&gt;Optional Parameters scm:checkin&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Chạy lệnh Maven: &lt;code class=&quot;highlighter-rouge&quot;&gt;mvn scm:checkin -Dmessage=&quot;message commit source code&quot;&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-scm-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.9.5&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;connectionType&amp;gt;&lt;/span&gt;url&lt;span class=&quot;nt&quot;&gt;&amp;lt;/connectionType&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;basedir&amp;gt;&lt;/span&gt;${basedir}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/basedir&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;workingDirectory&amp;gt;&lt;/span&gt;${basedir}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/workingDirectory&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;git-push-mvn&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;checkin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;c&quot;&gt;&amp;lt;!--&amp;lt;phase&amp;gt;validate&amp;lt;/phase&amp;gt;--&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;scmcheckout&quot;&gt;SCM:checkout&lt;/h2&gt;

&lt;p&gt;Thực hiện công việc clone (không phải pull) souce code trên repository về. Trong tag &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/code&gt; có thuộc tính &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;checkoutDirectory&amp;gt;&lt;/code&gt; dùng để chỉ định thư mục sẽ lưu trữ source code được clone từ repository về, nếu không khai báo mặc định sẽ lưu trong &lt;em&gt;target/checkout/&lt;/em&gt;. Xem thêm các thuộc tính của goal &lt;em&gt;scm:checkout&lt;/em&gt; tại &lt;a href=&quot;https://maven.apache.org/scm/maven-scm-plugin/checkout-mojo.html&quot;&gt;Optional Parameters scm:checkout&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Chạy lệnh Maven: &lt;code class=&quot;highlighter-rouge&quot;&gt;mvn scm:checkout&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-scm-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.9.5&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;checkoutDirectory&amp;gt;&lt;/span&gt;${basedir}/core&lt;span class=&quot;nt&quot;&gt;&amp;lt;/checkoutDirectory&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;connectionType&amp;gt;&lt;/span&gt;url&lt;span class=&quot;nt&quot;&gt;&amp;lt;/connectionType&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;basedir&amp;gt;&lt;/span&gt;${basedir}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/basedir&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;git-pull-mvn&lt;span class=&quot;nt&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;checkout&lt;span class=&quot;nt&quot;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;c&quot;&gt;&amp;lt;!--&amp;lt;phase&amp;gt;validate&amp;lt;/phase&amp;gt;--&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;source-code&quot;&gt;Source code&lt;/h2&gt;

&lt;p&gt;Xem toàn bộ &lt;em&gt;pom.xml&lt;/em&gt; ví dụ tại &lt;a href=&quot;/linux/2019/07/10/su-dung-scm-plugin-maven-de-push-va-clone-code-code.html&quot;&gt;pom.xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Tham khảo&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;https://maven.apache.org/scm/maven-scm-plugin/plugin-info.html&lt;/li&gt;
  &lt;li&gt;https://stackoverflow.com/a/10147826/9488752&lt;/li&gt;
&lt;/ul&gt;</content><author><name>mtSiniChi</name></author><summary type="html">Bài viết sẽ trả lời câu hỏi: Tôi muốn sử dụng lệnh maven để pull và push source code lên repository git.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/assets/images/via-verde-crm-increases-customer-adoption-hero.png" /></entry><entry><title type="html">Implement Log4j2 with Java</title><link href="/linux/2019/07/10/log4j-with-java-example.html" rel="alternate" type="text/html" title="Implement Log4j2 with Java" /><published>2019-07-10T13:38:27+07:00</published><updated>2019-07-10T13:38:27+07:00</updated><id>/linux/2019/07/10/log4j-with-java-example</id><content type="html" xml:base="/linux/2019/07/10/log4j-with-java-example.html">&lt;p&gt;Hiện thực Log4j2 trong project Maven, gói ghém chỉ qua 3 bước như bên dưới.&lt;/p&gt;

&lt;p&gt;Step1: Thêm dependencies vào &lt;em&gt;pom.xml&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.logging.log4j&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;log4j-api&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.6.1&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.logging.log4j&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;log4j-core&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.6.1&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Step2: Tạo tập tin cấu hình &lt;em&gt;resources/log4j2.xml&lt;/em&gt;, nếu tập tin cấu hình không ở &lt;em&gt;resources/&lt;/em&gt; cần xác định đường dẫn tập tin cấu hình trong IntellIJ tại &lt;strong&gt;Edit Configurations…&lt;/strong&gt; -&amp;gt; &lt;strong&gt;VM Options&lt;/strong&gt; nhập &lt;code class=&quot;highlighter-rouge&quot;&gt;-Dlog4j.configurationFile=your-path/log4j2.xml&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;Configuration&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;systemConfiguration&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;schema=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://jakarta.apache.org/log4j2/&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;Properties&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;Property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;log-path&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;log&lt;span class=&quot;nt&quot;&gt;&amp;lt;/Property&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;Property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;log-name&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;conv&lt;span class=&quot;nt&quot;&gt;&amp;lt;/Property&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/Properties&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;Appenders&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;Console&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;console-appender&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;target=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;STDOUT&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;PatternLayout&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;pattern&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;c&quot;&gt;&amp;lt;!--%highlight{[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} -
                     %msg%n}--&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;c&quot;&gt;&amp;lt;!--[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n--&amp;gt;&lt;/span&gt;
                    %highlight{%d{HH:mm:ss.SSS} %-5level %logger{36}.%M() @%L - %msg%n}
                    {FATAL=red, ERROR=red, WARN=yellow, INFO=black, DEBUG=green, 
                    TRACE=blue}
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;/pattern&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/PatternLayout&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/Console&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;nt&quot;&gt;&amp;lt;RollingFile&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;file-logger&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;fileName=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;${log-path}/${log-name}.log&quot;&lt;/span&gt;
                     &lt;span class=&quot;na&quot;&gt;filePattern=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;${log-path}/${log-name}-%d{yyyy-MM-dd}.log&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;PatternLayout&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;pattern&amp;gt;&lt;/span&gt;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} 
                [%t] %c{1} - %msg%n&lt;span class=&quot;nt&quot;&gt;&amp;lt;/pattern&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/PatternLayout&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;Policies&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;TimeBasedTriggeringPolicy&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;interval=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;1&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;modulate=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/Policies&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/RollingFile&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/Appenders&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;Loggers&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;Root&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;level=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;INFO&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;AppenderRef&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ref=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;console-appender&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;level=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;INFO&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;AppenderRef&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ref=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;file-logger&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;level=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;INFO&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/Root&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/Loggers&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/Configuration&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Step3: Ghi log bằng code Java:&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;org.apache.logging.log4j.LogManager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;org.apache.logging.log4j.Logger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Application&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Logger&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;logger&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;LogManager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getLogger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Application&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Hello log quickly.&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;logger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Hello log quickly again.&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thêm: Loggin Level&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/logs.jpeg&quot; alt=&quot;logs-level&quot; class=&quot;img-responsive&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Refers&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;https://stackoverflow.com/q/21979699/9488752 :: add color to log console&lt;/li&gt;
  &lt;li&gt;https://stackoverflow.com/questions/21206993/very-simple-log4j2-xml-configuration-file-using-console-and-file-appender&lt;/li&gt;
  &lt;li&gt;https://howtodoinjava.com/log4j2/log4j-2-xml-configuration-example/&lt;/li&gt;
&lt;/ul&gt;</content><author><name>mtSiniChi</name></author><summary type="html">Hiện thực Log4j2 trong project Maven, gói ghém chỉ qua 3 bước như bên dưới.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/assets/images/via-verde-crm-increases-customer-adoption-hero.png" /></entry></feed>